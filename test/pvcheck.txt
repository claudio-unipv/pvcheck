>>> from pvcheck import *
>>> import formatter
>>> from testdata import *
>>> import sys

>>> fmt = formatter.TextFormatter(destination=sys.stdout)
>>> pv = PvCheck(fmt)

>>> test = TestCase("echo", [
...    Section(".ARGS", ["[OUT]\nfoo"]),
...    Section("OUT", ["foo"])])

>>> pv.exec_single_test(test, ["echo"])
TEST: echo
COMMAND LINE:
echo [OUT]
foo
OUT: OK

>>> fmt.set_verbosity(formatter.TextFormatter.SUCCESS)
>>> sections = [
...    Section(".TEST", ["echo1"]),
...    Section(".ARGS", ["[OUT]\nfoo"]),
...    Section("OUT", ["foo"]),
...    Section(".TEST", ["echo2"]),
...    Section(".ARGS", ["[OUT]\nbar"]),
...    Section("OUT", ["foo"]),
...    Section(".TEST", ["echo3"]),
...    Section(".ARGS", ["[OUT]\nfoo"]),
...    Section("OUT", ["foo"]),
...    Section("NOTFOUND", ["notfound"])]
>>> pv.exec_suite(TestSuite(sections), ["echo"])
OUT: OK
OUT: line 1 is wrong  (expected 'foo', got 'bar')
OUT: OK
NOTFOUND: missing section
